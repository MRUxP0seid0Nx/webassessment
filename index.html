<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="https://fonts.googleapis.com/css?family=Raleway:100,300,400,500,700,900" rel="stylesheet">

	<title>MCB Web Client</title>

	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/templatemo-softy-pinko.css">

	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/jquery-confirm.css">

	<style>
		.pricing-body .price-wrapper img {
			height: 200px;
			width: 200px;
		}

		.form-control,
		.form-control:active,
		.form-control:focus {
			background-color: orange;
			color: black;
		}

		#format,
		#format:active,
		#format:focus {
			background-color: #00ff1f;
			color: black;
		}
	</style>
</head>


<body>
	<div id="preloader">
		<div class="jumper">
			<div></div>
			<div></div>
			<div></div>
		</div>
	</div>

	<header class="header-area header-sticky">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<nav class="main-nav">
						<a href="#" class="logo">
							<h2>Web Client</h2>
						</a>
						<ul class="nav">
							<li><a href="#welcome" class="active">Home</a></li>
							<li><a href="#about">About</a></li>
							<li><a href="#demo">Demo</a></li>
						</ul>
						<a class='menu-trigger'>
							<span>Menu</span>
						</a>
					</nav>
				</div>
			</div>
		</div>
	</header>

	<div class="welcome-area" id="welcome">
		<div class="header-text">
			<div class="container">
				<div class="row">
					<div class="offset-xl-3 col-xl-6 offset-lg-2 col-lg-8 col-md-12 col-sm-12">
						<h1>We provide the best <strong>service</strong><br>to get the latest Post</h1>
						<a href="#demo" class="main-button-slider">Get Started.</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<section class="section home-feature" id="about">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="row">
						<!-- ***** Features Small Item Start ***** -->
						<div class="col-lg-4 col-md-6 col-sm-6 col-12" data-scroll-reveal="enter bottom move 50px over 0.6s after 0.2s">
							<div class="features-small-item">
								<div class="icon">
									<i><span class="fa fa-check fa-2x"></span></i>
								</div>
								<h5 class="features-title">DEMO</h5>
								<p>Get to know how the API works through the demo below.</p>
							</div>
						</div>
						<!-- ***** Features Small Item End ***** -->

						<!-- ***** Features Small Item Start ***** -->
						<div class="col-lg-4 col-md-6 col-sm-6 col-12" data-scroll-reveal="enter bottom move 50px over 0.6s after 0.4s">
							<div class="features-small-item">
								<div class="icon">
									<i><span class="fa fa-list fa-2x"></span></i>
								</div>
								<h5 class="features-title">FEAURES</h5>
								<p>View the list of several features provided to you by this API service.</p>
							</div>
						</div>
						<!-- ***** Features Small Item End ***** -->
						<div class="col-lg-4 col-md-6 col-sm-6 col-12" data-scroll-reveal="enter bottom move 50px over 0.6s after 0.4s">
							<div class="features-small-item">
								<div class="icon">
									<i><span class="fa fa-list fa-2x"></span></i>
								</div>
								<h5 class="features-title">Search Post</h5>
								<p>View the list of Post which can be filtered</p>
							</div>
						</div>
						<!-- ***** Features Small Item End ***** -->
					</div>
				</div>
			</div>
		</div>
	</section>
	<section class="mini back2" id="demo">
		<div class="mini-content">
			<div class="container">
				<div class="row">
					<div class="info text-left">
						<h1>Demo - Register</h1>
						<div class="row" style="width:2200px">
							<div class="col-md-1">
								<input type="text" class="form-control" id="title" placeholder="Title">
							</div>

							<div class="col-md-1">
								<textarea type="text" class="form-control" id="body" placeholder="Body" ></textarea>
							</div>
							
							<div class="col-md-1">
								<button type="button" onclick="register()" class="btn btn-primary">Register</button>
							</div>
						</div>
					</div>
				</div>

				<div class="row" id="bookdisplay"></div>
			</div>
		</div>
	</section>
	
	<section class="mini back2" id="demo">
		<div class="mini-content">
			<div class="container">
				<div class="row">
				<div class="info text-left">
					<h1>Search For Post</h1>
					</div>
					<div >
						<table id="listPost" class="display" cellspacing="0" width="100%">
							<thead>
								<tr>
									<th>User ID</th>
									<th>Title</th>
									<th>Body</th>
								</tr>
							</thead>
							
						</table>
					</div>
				</div>
			</div>
		</div>
	</section>

	<footer>
		<p class="copyright">Copyright &copy; 2020 All Right Reserved.</p>
	</footer>

	<script src="assets/js/jquery.js"></script>
	<script src="assets/js/popper.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/scrollreveal.min.js"></script>
	<script src="assets/js/custom.js"></script>


	<script src="js/main.js"></script>
	<script src="js/jquery-confirm.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/r/dt/jq-2.1.4,jszip-2.5.0,pdfmake-0.1.18,dt-1.10.9,af-2.0.0,b-1.0.3,b-colvis-1.0.3,b-html5-1.0.3,b-print-1.0.3,se-1.0.1/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/r/dt/jq-2.1.4,jszip-2.5.0,pdfmake-0.1.18,dt-1.10.9,af-2.0.0,b-1.0.3,b-colvis-1.0.3,b-html5-1.0.3,b-print-1.0.3,se-1.0.1/datatables.min.js"></script>

	<script>

		//submit post
		function register() {
			var title = document.getElementById('title').value;
			var body = document.getElementById('body').value;
			
			if(validateTitle(title) == true && validateBody(body) == true){
				fetch('https://jsonplaceholder.typicode.com/posts', {
				  method: 'POST',
				  body: JSON.stringify({
					title: title,
					body: body,
					userId: 1,
				  }),
				  headers: {
					'Content-type': 'application/json; charset=UTF-8',
				  },
				})
					.then(function (response) {
					if (response.ok) {
						alert("Success");
						ResetForm();
						return response.json();
					} else {
						alert("Error");
						return Promise.reject(response);
					}
				})
				  .then((json) => console.log(json));
				  
				}
		}
		
		
		var arrayPost = [];
		
            $.ajax({
				url: "http://jsonplaceholder.typicode.com/posts",
                async: true,
                dataType: 'json',
                success: function (data) {
					for (var i = 0, len = data.length; i < len; i++) {
						var desc = data[i].body;
						var title = data[i].title;
						var id = (data[i].id).toString();
						arrayPost.push([id, '<a href="http://google.com" target="_blank">'+title.substring(0, 20)+'</a>', desc.substring(0, 120)]);
					}
				settable(arrayPost);
                },
				 error: function(xhr, status, error){
					 var errorMessage = xhr.status + ': ' + xhr.statusText
					 alert('Error - ' + errorMessage);
				 }
				
				
            });
			
			function settable(data) {	
				$('#listPost').DataTable({
					"aaData": data,
					"dom": 'lBfrtip',
					buttons: [
					{
						extend: 'excelHtml5',
						text: 'Export to Excel',
						title: 'saveToExcel',
						 download: 'open',
						 orientation:'landscape',
						  exportOptions: {
						  columns: ':visible'
						}
					}]
				} );
			}
		

		//validate title and body
		function validateTitle(title){
			if (title == null || title == ""){
				 alert("Please Fill All Required Field");
				 return false;
			}else{
				return true;
			}
		}
		
		//validate title and body
		function validateBody(body){
			if (body == null || body == ""){
				 alert("Please Fill All Required Field");
				 return false;
			}else if(body.length > 400){
				alert("Body cannot be greater than 400 characters");
				return false;
			}else{
				return true;
			}
			
		}
		
		//reset form
		function ResetForm() {
			document.getElementById('title').value = "";
			document.getElementById('body').value = "";
		}
	</script>
</body>

</html>
